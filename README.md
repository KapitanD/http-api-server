# Домашнее задание по ТПОС №3 (Kubernetes)

## Описание

В кластере кубера разворачиается небольшой REST-API сервис для написания заметок, есть makefile для основных операций, для миграций используется утилита [migrate](https://github.com/golang-migrate/migrate). Из задания реализованы все необходимые сущности, реализованы health ready probs, приложение пишет логи

## Userguide
Приложение работает на 8444 порту. Для запуска приложения необходимо поднять в кластере БД (Postgres). Для этого в мэйкфаиле есть команда 
```
make minikube-up-db
```
Далее можно поднимать само приложение:
```
make minikube-up
```
## О приложении
Приложение представляет собой REST-API, доступные эндпоинты:
 - /healthz /readyz - проверки работаспособности и готовности
 - /users - регистрация пользователя POST запросом формата
```
{
	"email" : "some@email.com",
	"password" : "password"
}
```
- /sessions - создание сессии (Аутентификация) POST запросом формата {} в респонсе возвращает установленную куку для сессии:
```
{
	"email" : "some@email.com",
	"password" : "password"
}
``` 
- /notes - POST GET PATCH(:id) DELETE(:id) GET(:id) добавление, получение всех, обновление, удаление и получение конкретной заметки. Вид заметки для POST (также заметка хранит время создания и обновления). Для доступа необходима авторизация по куке.
```
{
	"header":"header 3",
	"body":"body 3"
}
``` 
- /private/whoami - возвращает текущего пользователя (его емэйл). Также необходима авторизация.